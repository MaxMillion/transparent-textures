jQuery&&function(i){function o(o,t){var n=i('<div class="minicolors" />'),a=i.minicolors.defaults;o.data("minicolors-initialized")||(t=i.extend(!0,{},a,t),n.addClass("minicolors-theme-"+t.theme).toggleClass("minicolors-with-opacity",t.opacity),void 0!==t.position&&i.each(t.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),o.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",t).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+t.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),t.inline||(o.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>'),o.next(".minicolors-swatch").on("click",function(i){i.preventDefault(),o.focus()})),o.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),t.inline&&o.parent().addClass("minicolors-inline"),e(o,!1),o.data("minicolors-initialized",!0))}function t(i){var o=i.parent();i.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),o.before(i).remove()}function n(i){var o=i.parent(),t=o.find(".minicolors-panel"),n=i.data("minicolors-settings");!i.data("minicolors-initialized")||i.prop("disabled")||o.hasClass("minicolors-inline")||o.hasClass("minicolors-focus")||(a(),o.addClass("minicolors-focus"),t.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(i.get(0))}))}function a(){i(".minicolors-input").each(function(){var o=i(this),t=o.data("minicolors-settings"),n=o.parent();t.inline||n.find(".minicolors-panel").fadeOut(t.hideSpeed,function(){n.hasClass("minicolors-focus")&&t.hide&&t.hide.call(o.get(0)),n.removeClass("minicolors-focus")})})}function s(i,o,t){var n,a,s,e,c=i.parents(".minicolors").find(".minicolors-input"),l=c.data("minicolors-settings"),h=i.find("[class$=-picker]"),d=i.offset().left,u=i.offset().top,g=Math.round(o.pageX-d),p=Math.round(o.pageY-u),m=t?l.animationSpeed:0;o.originalEvent.changedTouches&&(g=o.originalEvent.changedTouches[0].pageX-d,p=o.originalEvent.changedTouches[0].pageY-u),0>g&&(g=0),0>p&&(p=0),g>i.width()&&(g=i.width()),p>i.height()&&(p=i.height()),i.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(n=75-g,a=75-p,s=Math.sqrt(n*n+a*a),e=Math.atan2(a,n),0>e&&(e+=2*Math.PI),s>75&&(s=75,g=75-75*Math.cos(e),p=75-75*Math.sin(e)),g=Math.round(g),p=Math.round(p)),i.is(".minicolors-grid")?h.stop(!0).animate({top:p+"px",left:g+"px"},m,l.animationEasing,function(){r(c,i)}):h.stop(!0).animate({top:p+"px"},m,l.animationEasing,function(){r(c,i)})}function r(i,o){function t(i,o){var t,n;return i.length&&o?(t=i.offset().left,n=i.offset().top,{x:t-o.offset().left+i.outerWidth()/2,y:n-o.offset().top+i.outerHeight()/2}):null}var n,a,s,r,e,l,h,u=i.val(),p=i.attr("data-opacity"),m=i.parent(),b=i.data("minicolors-settings"),v=m.find(".minicolors-swatch"),k=m.find(".minicolors-grid"),y=m.find(".minicolors-slider"),M=m.find(".minicolors-opacity-slider"),w=k.find("[class$=-picker]"),x=y.find("[class$=-picker]"),C=M.find("[class$=-picker]"),$=t(w,k),S=t(x,y),z=t(C,M);if(o.is(".minicolors-grid, .minicolors-slider")){switch(b.control){case"wheel":r=k.width()/2-$.x,e=k.height()/2-$.y,l=Math.sqrt(r*r+e*e),h=Math.atan2(e,r),0>h&&(h+=2*Math.PI),l>75&&(l=75,$.x=69-75*Math.cos(h),$.y=69-75*Math.sin(h)),a=g(l/.75,0,100),n=g(180*h/Math.PI,0,360),s=g(100-Math.floor(S.y*(100/y.height())),0,100),u=f({h:n,s:a,b:s}),y.css("backgroundColor",f({h:n,s:a,b:100}));break;case"saturation":n=g(parseInt($.x*(360/k.width()),10),0,360),a=g(100-Math.floor(S.y*(100/y.height())),0,100),s=g(100-Math.floor($.y*(100/k.height())),0,100),u=f({h:n,s:a,b:s}),y.css("backgroundColor",f({h:n,s:100,b:s})),m.find(".minicolors-grid-inner").css("opacity",a/100);break;case"brightness":n=g(parseInt($.x*(360/k.width()),10),0,360),a=g(100-Math.floor($.y*(100/k.height())),0,100),s=g(100-Math.floor(S.y*(100/y.height())),0,100),u=f({h:n,s:a,b:s}),y.css("backgroundColor",f({h:n,s:a,b:100})),m.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:n=g(360-parseInt(S.y*(360/y.height()),10),0,360),a=g(Math.floor($.x*(100/k.width())),0,100),s=g(100-Math.floor($.y*(100/k.height())),0,100),u=f({h:n,s:a,b:s}),k.css("backgroundColor",f({h:n,s:100,b:100}))}i.val(d(u,b.letterCase))}o.is(".minicolors-opacity-slider")&&(p=b.opacity?parseFloat(1-z.y/M.height()).toFixed(2):1,b.opacity&&i.attr("data-opacity",p)),v.find("SPAN").css({backgroundColor:u,opacity:p}),c(i,u,p)}function e(i,o){var t,n,a,s,r,e,l,h=i.parent(),p=i.data("minicolors-settings"),m=h.find(".minicolors-swatch"),v=h.find(".minicolors-grid"),k=h.find(".minicolors-slider"),y=h.find(".minicolors-opacity-slider"),M=v.find("[class$=-picker]"),w=k.find("[class$=-picker]"),x=y.find("[class$=-picker]");switch(t=d(u(i.val(),!0),p.letterCase),t||(t=d(u(p.defaultValue,!0),p.letterCase)),n=b(t),o||i.val(t),p.opacity&&(a=""===i.attr("data-opacity")?1:g(parseFloat(i.attr("data-opacity")).toFixed(2),0,1),isNaN(a)&&(a=1),i.attr("data-opacity",a),m.find("SPAN").css("opacity",a),r=g(y.height()-y.height()*a,0,y.height()),x.css("top",r+"px")),m.find("SPAN").css("backgroundColor",t),p.control){case"wheel":e=g(Math.ceil(.75*n.s),0,v.height()/2),l=n.h*Math.PI/180,s=g(75-Math.cos(l)*e,0,v.width()),r=g(75-Math.sin(l)*e,0,v.height()),M.css({top:r+"px",left:s+"px"}),r=150-n.b/(100/v.height()),""===t&&(r=0),w.css("top",r+"px"),k.css("backgroundColor",f({h:n.h,s:n.s,b:100}));break;case"saturation":s=g(5*n.h/12,0,150),r=g(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=g(k.height()-n.s*(k.height()/100),0,k.height()),w.css("top",r+"px"),k.css("backgroundColor",f({h:n.h,s:100,b:n.b})),h.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":s=g(5*n.h/12,0,150),r=g(v.height()-Math.ceil(n.s/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=g(k.height()-n.b*(k.height()/100),0,k.height()),w.css("top",r+"px"),k.css("backgroundColor",f({h:n.h,s:n.s,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:s=g(Math.ceil(n.s/(100/v.width())),0,v.width()),r=g(v.height()-Math.ceil(n.b/(100/v.height())),0,v.height()),M.css({top:r+"px",left:s+"px"}),r=g(k.height()-n.h/(360/k.height()),0,k.height()),w.css("top",r+"px"),v.css("backgroundColor",f({h:n.h,s:100,b:100}))}i.data("minicolors-initialized")&&c(i,t,a)}function c(i,o,t){var n=i.data("minicolors-settings"),a=i.data("minicolors-lastChange");a&&a.hex===o&&a.opacity===t||(i.data("minicolors-lastChange",{hex:o,opacity:t}),n.change&&(n.changeDelay?(clearTimeout(i.data("minicolors-changeTimeout")),i.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(i.get(0),o,t)},n.changeDelay))):n.change.call(i.get(0),o,t)),i.trigger("change").trigger("input"))}function l(o){var t=u(i(o).val(),!0),n=k(t),a=i(o).attr("data-opacity");return n?(void 0!==a&&i.extend(n,{a:parseFloat(a)}),n):null}function h(o,t){var n=u(i(o).val(),!0),a=k(n),s=i(o).attr("data-opacity");return a?(void 0===s&&(s=1),t?"rgba("+a.r+", "+a.g+", "+a.b+", "+parseFloat(s)+")":"rgb("+a.r+", "+a.g+", "+a.b+")"):null}function d(i,o){return"uppercase"===o?i.toUpperCase():i.toLowerCase()}function u(i,o){return i=i.replace(/[^A-F0-9]/gi,""),3!==i.length&&6!==i.length?"":(3===i.length&&o&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),"#"+i)}function g(i,o,t){return o>i&&(i=o),i>t&&(i=t),i}function p(i){var o={},t=Math.round(i.h),n=Math.round(255*i.s/100),a=Math.round(255*i.b/100);if(0===n)o.r=o.g=o.b=a;else{var s=a,r=(255-n)*a/255,e=(s-r)*(t%60)/60;360===t&&(t=0),60>t?(o.r=s,o.b=r,o.g=r+e):120>t?(o.g=s,o.b=r,o.r=s-e):180>t?(o.g=s,o.r=r,o.b=r+e):240>t?(o.b=s,o.r=r,o.g=s-e):300>t?(o.b=s,o.g=r,o.r=r+e):360>t?(o.r=s,o.g=r,o.b=s-e):(o.r=0,o.g=0,o.b=0)}return{r:Math.round(o.r),g:Math.round(o.g),b:Math.round(o.b)}}function m(o){var t=[o.r.toString(16),o.g.toString(16),o.b.toString(16)];return i.each(t,function(i,o){1===o.length&&(t[i]="0"+o)}),"#"+t.join("")}function f(i){return m(p(i))}function b(i){var o=v(k(i));return 0===o.s&&(o.h=360),o}function v(i){var o={h:0,s:0,b:0},t=Math.min(i.r,i.g,i.b),n=Math.max(i.r,i.g,i.b),a=n-t;return o.b=n,o.s=0!==n?255*a/n:0,o.h=0!==o.s?i.r===n?(i.g-i.b)/a:i.g===n?2+(i.b-i.r)/a:4+(i.r-i.g)/a:-1,o.h*=60,o.h<0&&(o.h+=360),o.s*=100/255,o.b*=100/255,o}function k(i){return i=parseInt(i.indexOf("#")>-1?i.substring(1):i,16),{r:i>>16,g:(65280&i)>>8,b:255&i}}i.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},i.extend(i.fn,{minicolors:function(s,r){switch(s){case"destroy":return i(this).each(function(){t(i(this))}),i(this);case"hide":return a(),i(this);case"opacity":return void 0===r?i(this).attr("data-opacity"):(i(this).each(function(){e(i(this).attr("data-opacity",r))}),i(this));case"rgbObject":return l(i(this),"rgbaObject"===s);case"rgbString":case"rgbaString":return h(i(this),"rgbaString"===s);case"settings":return void 0===r?i(this).data("minicolors-settings"):(i(this).each(function(){var o=i(this).data("minicolors-settings")||{};t(i(this)),i(this).minicolors(i.extend(!0,o,r))}),i(this));case"show":return n(i(this).eq(0)),i(this);case"value":return void 0===r?i(this).val():(i(this).each(function(){e(i(this).val(r))}),i(this));default:return"create"!==s&&(r=s),i(this).each(function(){o(i(this),r)}),i(this)}}}),i(document).on("mousedown.minicolors touchstart.minicolors",function(o){i(o.target).parents().add(o.target).hasClass("minicolors")||a()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(o){var t=i(this);o.preventDefault(),i(document).data("minicolors-target",t),s(t,o,!0)}).on("mousemove.minicolors touchmove.minicolors",function(o){var t=i(document).data("minicolors-target");t&&s(t,o)}).on("mouseup.minicolors touchend.minicolors",function(){i(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(o){var t=i(this).parent().find(".minicolors-input");o.preventDefault(),n(t)}).on("focus.minicolors",".minicolors-input",function(){var o=i(this);o.data("minicolors-initialized")&&n(o)}).on("blur.minicolors",".minicolors-input",function(){var o=i(this),t=o.data("minicolors-settings");o.data("minicolors-initialized")&&(o.val(u(o.val(),!0)),""===o.val()&&o.val(u(t.defaultValue,!0)),o.val(d(o.val(),t.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(o){var t=i(this);if(t.data("minicolors-initialized"))switch(o.keyCode){case 9:a();break;case 13:case 27:a(),t.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var o=i(this);o.data("minicolors-initialized")&&e(o,!0)}).on("paste.minicolors",".minicolors-input",function(){var o=i(this);o.data("minicolors-initialized")&&setTimeout(function(){e(o,!0)},1)})}(jQuery);var colors=["#851400","#cc8800","#878c00","#338c00","#008c41","#008c8c","#004f8c","#00238c","#25008a","#5c008a","#8a008a","#8a005e","#8a0027"],default_background=colors[Math.floor(Math.random()*colors.length)],default_pattern=patterns[Math.floor(Math.random()*patterns.length)];$(".colorpicker").minicolors({inline:!0,control:"saturation",defaultValue:default_background}),$(".colorpicker-inputbox").val(default_background),$("body").css("background-image",'url("'+default_pattern+'")'),$("body, .clickable").animate({"background-color":default_background},1e3);var body_background=$("body").css("background-color");$(".clickable").css("background-color",body_background),$(".colorpicker").change(function(){var i=$(".colorpicker").val();$("body").css("background-color",i),$(".clickable").css("background-color",i),$(".colorpicker-inputbox").val(i)}),$(".clickable").click(function(){background=$(this).css("background-image"),$("body").css("background-image",background)});