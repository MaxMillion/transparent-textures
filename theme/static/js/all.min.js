function changeCSSTextField(t,e){e.indexOf("http")<0&&(e="http://"+window.location.host+e),e.indexOf("url")<0&&(e="url("+e+")");var i="background-color: "+t+";\nbackground-image: "+e+";\n/* This is mostly intended for prototyping; please download the pattern and re-host for production environments. Thank you! */";$("#cssfield").val(i)}function filterPatterns(t,e){$(".searched").remove();var i=$(t).val().toLowerCase();i.length>2?(e.hide(),$.getJSON("/data.json",function(t){var e=t.data.filter(function(t){return t.search_string.toLowerCase().indexOf(i)>-1}),n=[];$(e).each(function(t,e){var i='<li class="pattern-container col-sm-6 searched"><div class="pattern clickable lazy" data-original="/patterns/'+e.slug+'.png" style="background-image: url(/theme/images/transparent.png);"><div class="pattern-info"><h4 class="pattern-title">'+e.title+'</h4><p>Made by <a href="'+e.authorsite+'" target="_blank">'+e.author+'</a></p><a href="/patterns/tree-bark.png" class="pattern-download" download><i class="fa fa-download"></i> Download</a><a href="'+e.slug+'.html" class="pattern-link"><i class="fa fa-link"></i> Link</a></div></div></li>';n.push(i)}),$("#pattern-list").append(n),instantiateClickablePatterns(),instantiateLazyLoading()})):e.show()}function instantiateColorpicker(t){$(".colorpicker").minicolors({inline:!0,control:"saturation",defaultValue:t,change:function(t){$("body,.clickable").css("background-color",t),$(".hexbox").val(t),changeCSSTextField(t,$("body").css("background-image"))},changeDelay:10})}function setBGColorAndPattern(){$body=$("body");var t,e,i,n,o=["#851400","#cc8800","#878c00","#338c00","#008c41","#008c8c","#004f8c","#00238c","#25008a","#5c008a","#8a008a","#8a005e","#8a0027"],r=o[Math.floor(Math.random()*o.length)];return $body.is(".base")&&(t=$("#pattern-list li"),e=t[Math.floor(Math.random()*t.length)],n=$(e).find(".pattern").data("original"),i=$(e).find(".pattern-title").text()),$body.is(".article")&&(n=pattern,i=pattern_title),$body.css({"background-image":"url("+n+")","background-color":r}),$(".hexbox").val(r),$(".current-pattern").text(i),instantiateColorpicker(r),changeCSSTextField(r,n),[r,n,i]}function instantiateClickablePatterns(){var t=$("body").css("background-color");$(".clickable").css("background-color",t).click(function(){var t=$(this).css("background-image");$("body").css("background-image",t),$(".current-pattern").text($(this).find(".pattern-title").text());var e=$(".hexbox").val(),i=$("body").css("background-image");changeCSSTextField(e,i)})}function instantiateLazyLoading(){$("div.lazy").lazyload({threshold:1e3,effect:"fadeIn"}),$("body, html").scroll()}function createCanvasWallpaper(t,e,i,n,o){function r(){var t=s.createPattern(l,"repeat");s.fillStyle=t,s.fill();$("body").append(a);$("canvas").hide();var e=document.getElementsByTagName("canvas")[0];o(e)}var a=document.createElement("canvas");a.width=i,a.height=n;var s=a.getContext("2d");s.beginPath(),s.moveTo(0,0),s.lineTo(0,n),s.lineTo(i,n),s.lineTo(i,0),s.fillStyle=e,s.fill();var l=new Image;l.src=t,l.onload=r}function instantiateHiddenCanvas(t){$("canvas").remove(),console.log("happening");var e=$("#wallpaper_width").val(),i=$("#wallpaper_height").val(),n=$("body").css("background-image").replace(/\(|\)|(^url)|"|'/g,"");createCanvasWallpaper(n,t,e,i,function(t){var e=t.toDataURL("image/png");$(".save-wallpaper-button").attr({href:e,download:"download.png"})})}function instantiateSWFCopyButton(){ZeroClipboard.config({moviePath:"/theme/swf/ZeroClipboard.swf"});var t=new ZeroClipboard($("#copy-button"));t.on("load",function(){}),t.on("complete",function(){$(".copy-success").text("Copied!"),$(".copy-success").show(),$(".copy-success").fadeOut(2e3)}),t.on("noflash",function(){$("#copy-button").hide()}),t.on("wrongFlash",function(){$("#copy-button").hide()})}jQuery&&function(t){function e(e,i){var n=t('<div class="minicolors" />'),o=t.minicolors.defaults;e.data("minicolors-initialized")||(i=t.extend(!0,{},o,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),void 0!==i.position&&t.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),i.inline||(e.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&e.parent().addClass("minicolors-inline"),s(e,!1),e.data("minicolors-initialized",!0))}function i(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(t){var e=t.parent(),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(o(),e.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(t.get(0))}))}function o(){t(".minicolors-input").each(function(){var e=t(this),i=e.data("minicolors-settings"),n=e.parent();i.inline||n.find(".minicolors-panel").fadeOut(i.hideSpeed,function(){n.hasClass("minicolors-focus")&&i.hide&&i.hide.call(e.get(0)),n.removeClass("minicolors-focus")})})}function r(t,e,i){var n,o,r,s,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),d=t.find("[class$=-picker]"),u=t.offset().left,f=t.offset().top,h=Math.round(e.pageX-u),p=Math.round(e.pageY-f),g=i?c.animationSpeed:0;e.originalEvent.changedTouches&&(h=e.originalEvent.changedTouches[0].pageX-u,p=e.originalEvent.changedTouches[0].pageY-f),0>h&&(h=0),0>p&&(p=0),h>t.width()&&(h=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&d.parent().is(".minicolors-grid")&&(n=75-h,o=75-p,r=Math.sqrt(n*n+o*o),s=Math.atan2(o,n),0>s&&(s+=2*Math.PI),r>75&&(r=75,h=75-75*Math.cos(s),p=75-75*Math.sin(s)),h=Math.round(h),p=Math.round(p)),t.is(".minicolors-grid")?d.stop(!0).animate({top:p+"px",left:h+"px"},g,c.animationEasing,function(){a(l,t)}):d.stop(!0).animate({top:p+"px"},g,c.animationEasing,function(){a(l,t)})}function a(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,o,r,a,s,c,d,f=t.val(),p=t.attr("data-opacity"),g=t.parent(),m=t.data("minicolors-settings"),b=g.find(".minicolors-swatch"),y=g.find(".minicolors-grid"),w=g.find(".minicolors-slider"),C=g.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),k=w.find("[class$=-picker]"),A=C.find("[class$=-picker]"),$=i(x,y),z=i(k,w),S=i(A,C);if(e.is(".minicolors-grid, .minicolors-slider")){switch(m.control){case"wheel":a=y.width()/2-$.x,s=y.height()/2-$.y,c=Math.sqrt(a*a+s*s),d=Math.atan2(s,a),0>d&&(d+=2*Math.PI),c>75&&(c=75,$.x=69-75*Math.cos(d),$.y=69-75*Math.sin(d)),o=h(c/.75,0,100),n=h(180*d/Math.PI,0,360),r=h(100-Math.floor(z.y*(100/w.height())),0,100),f=v({h:n,s:o,b:r}),w.css("backgroundColor",v({h:n,s:o,b:100}));break;case"saturation":n=h(parseInt($.x*(360/y.width()),10),0,360),o=h(100-Math.floor(z.y*(100/w.height())),0,100),r=h(100-Math.floor($.y*(100/y.height())),0,100),f=v({h:n,s:o,b:r}),w.css("backgroundColor",v({h:n,s:100,b:r})),g.find(".minicolors-grid-inner").css("opacity",o/100);break;case"brightness":n=h(parseInt($.x*(360/y.width()),10),0,360),o=h(100-Math.floor($.y*(100/y.height())),0,100),r=h(100-Math.floor(z.y*(100/w.height())),0,100),f=v({h:n,s:o,b:r}),w.css("backgroundColor",v({h:n,s:o,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-r/100);break;default:n=h(360-parseInt(z.y*(360/w.height()),10),0,360),o=h(Math.floor($.x*(100/y.width())),0,100),r=h(100-Math.floor($.y*(100/y.height())),0,100),f=v({h:n,s:o,b:r}),y.css("backgroundColor",v({h:n,s:100,b:100}))}t.val(u(f,m.letterCase))}e.is(".minicolors-opacity-slider")&&(p=m.opacity?parseFloat(1-S.y/C.height()).toFixed(2):1,m.opacity&&t.attr("data-opacity",p)),b.find("SPAN").css({backgroundColor:f,opacity:p}),l(t,f,p)}function s(t,e){var i,n,o,r,a,s,c,d=t.parent(),p=t.data("minicolors-settings"),g=d.find(".minicolors-swatch"),b=d.find(".minicolors-grid"),y=d.find(".minicolors-slider"),w=d.find(".minicolors-opacity-slider"),C=b.find("[class$=-picker]"),x=y.find("[class$=-picker]"),k=w.find("[class$=-picker]");switch(i=u(f(t.val(),!0),p.letterCase),i||(i=u(f(p.defaultValue,!0),p.letterCase)),n=m(i),e||t.val(i),p.opacity&&(o=""===t.attr("data-opacity")?1:h(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(o)&&(o=1),t.attr("data-opacity",o),g.find("SPAN").css("opacity",o),a=h(w.height()-w.height()*o,0,w.height()),k.css("top",a+"px")),g.find("SPAN").css("backgroundColor",i),p.control){case"wheel":s=h(Math.ceil(.75*n.s),0,b.height()/2),c=n.h*Math.PI/180,r=h(75-Math.cos(c)*s,0,b.width()),a=h(75-Math.sin(c)*s,0,b.height()),C.css({top:a+"px",left:r+"px"}),a=150-n.b/(100/b.height()),""===i&&(a=0),x.css("top",a+"px"),y.css("backgroundColor",v({h:n.h,s:n.s,b:100}));break;case"saturation":r=h(5*n.h/12,0,150),a=h(b.height()-Math.ceil(n.b/(100/b.height())),0,b.height()),C.css({top:a+"px",left:r+"px"}),a=h(y.height()-n.s*(y.height()/100),0,y.height()),x.css("top",a+"px"),y.css("backgroundColor",v({h:n.h,s:100,b:n.b})),d.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":r=h(5*n.h/12,0,150),a=h(b.height()-Math.ceil(n.s/(100/b.height())),0,b.height()),C.css({top:a+"px",left:r+"px"}),a=h(y.height()-n.b*(y.height()/100),0,y.height()),x.css("top",a+"px"),y.css("backgroundColor",v({h:n.h,s:n.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:r=h(Math.ceil(n.s/(100/b.width())),0,b.width()),a=h(b.height()-Math.ceil(n.b/(100/b.height())),0,b.height()),C.css({top:a+"px",left:r+"px"}),a=h(y.height()-n.h/(360/y.height()),0,y.height()),x.css("top",a+"px"),b.css("backgroundColor",v({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,i,o)}function l(t,e,i){var n=t.data("minicolors-settings"),o=t.data("minicolors-lastChange");o&&o.hex===e&&o.opacity===i||(t.data("minicolors-lastChange",{hex:e,opacity:i}),n.change&&(n.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){n.change.call(t.get(0),e,i)},n.changeDelay))):n.change.call(t.get(0),e,i)),t.trigger("change").trigger("input"))}function c(e){var i=f(t(e).val(),!0),n=y(i),o=t(e).attr("data-opacity");return n?(void 0!==o&&t.extend(n,{a:parseFloat(o)}),n):null}function d(e,i){var n=f(t(e).val(),!0),o=y(n),r=t(e).attr("data-opacity");return o?(void 0===r&&(r=1),i?"rgba("+o.r+", "+o.g+", "+o.b+", "+parseFloat(r)+")":"rgb("+o.r+", "+o.g+", "+o.b+")"):null}function u(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function f(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function h(t,e,i){return e>t&&(t=e),t>i&&(t=i),t}function p(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),o=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=o;else{var r=o,a=(255-n)*o/255,s=(r-a)*(i%60)/60;360===i&&(i=0),60>i?(e.r=r,e.b=a,e.g=a+s):120>i?(e.g=r,e.b=a,e.r=r-s):180>i?(e.g=r,e.r=a,e.b=a+s):240>i?(e.b=r,e.r=a,e.g=r-s):300>i?(e.b=r,e.g=a,e.r=a+s):360>i?(e.r=r,e.g=a,e.b=r-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function v(t){return g(p(t))}function m(t){var e=b(y(t));return 0===e.s&&(e.h=360),e}function b(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),o=n-i;return e.b=n,e.s=0!==n?255*o/n:0,e.h=0!==e.s?t.r===n?(t.g-t.b)/o:t.g===n?2+(t.b-t.r)/o:4+(t.r-t.g)/o:-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function y(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(r,a){switch(r){case"destroy":return t(this).each(function(){i(t(this))}),t(this);case"hide":return o(),t(this);case"opacity":return void 0===a?t(this).attr("data-opacity"):(t(this).each(function(){s(t(this).attr("data-opacity",a))}),t(this));case"rgbObject":return c(t(this),"rgbaObject"===r);case"rgbString":case"rgbaString":return d(t(this),"rgbaString"===r);case"settings":return void 0===a?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};i(t(this)),t(this).minicolors(t.extend(!0,e,a))}),t(this));case"show":return n(t(this).eq(0)),t(this);case"value":return void 0===a?t(this).val():(t(this).each(function(){s(t(this).val(a))}),t(this));default:return"create"!==r&&(a=r),t(this).each(function(){e(t(this),a)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var i=t(this);e.preventDefault(),t(document).data("minicolors-target",i),r(i,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var i=t(document).data("minicolors-target");i&&r(i,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var i=t(this).parent().find(".minicolors-input");e.preventDefault(),n(i)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&n(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),i=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(f(e.val(),!0)),""===e.val()&&e.val(f(i.defaultValue,!0)),e.val(u(e.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var i=t(this);if(i.data("minicolors-initialized"))switch(e.keyCode){case 9:o();break;case 13:case 27:o(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&s(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){s(e,!0)},1)})}(jQuery),function(t,e,i,n){var o=t(e);t.fn.lazyload=function(r){function a(){var e=0;l.each(function(){var i=t(this);if(!c.skip_invisible||i.is(":visible"))if(t.abovethetop(this,c)||t.leftofbegin(this,c));else if(t.belowthefold(this,c)||t.rightoffold(this,c)){if(++e>c.failure_limit)return!1}else i.trigger("appear"),e=0})}var s,l=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),t.extend(c,r)),s=c.container===n||c.container===e?o:t(c.container),0===c.event.indexOf("scroll")&&s.bind(c.event,function(){return a()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.is("img")&&i.attr("src",c.placeholder),i.one("appear",function(){if(!this.loaded){if(c.appear){var n=l.length;c.appear.call(e,n,c)}t("<img />").bind("load",function(){var n=i.attr("data-"+c.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[c.effect](c.effect_speed),e.loaded=!0;var o=t.grep(l,function(t){return!t.loaded});if(l=t(o),c.load){var r=l.length;c.load.call(e,r,c)}}).attr("src",i.attr("data-"+c.data_attribute))}}),0!==c.event.indexOf("scroll")&&i.bind(c.event,function(){e.loaded||i.trigger("appear")})}),o.bind("resize",function(){a()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&l.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){a()}),this},t.belowthefold=function(i,r){var a;return a=r.container===n||r.container===e?(e.innerHeight?e.innerHeight:o.height())+o.scrollTop():t(r.container).offset().top+t(r.container).height(),a<=t(i).offset().top-r.threshold},t.rightoffold=function(i,r){var a;return a=r.container===n||r.container===e?o.width()+o.scrollLeft():t(r.container).offset().left+t(r.container).width(),a<=t(i).offset().left-r.threshold},t.abovethetop=function(i,r){var a;return a=r.container===n||r.container===e?o.scrollTop():t(r.container).offset().top,a>=t(i).offset().top+r.threshold+t(i).height()},t.leftofbegin=function(i,r){var a;return a=r.container===n||r.container===e?o.scrollLeft():t(r.container).offset().left,a>=t(i).offset().left+r.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(){"use strict";function t(t){return t.replace(/,/g,".").replace(/[^0-9\.]/g,"")}function e(e){return parseFloat(t(e))>=10}var i,n={bridge:null,version:"0.0.0",disabled:null,outdated:null,ready:null},o={},r=0,a={},s=0,l={},c=null,d=null,u=function(){var t,e,i,n,o="ZeroClipboard.swf";if(document.currentScript&&(n=document.currentScript.src));else{var r=document.getElementsByTagName("script");if("readyState"in r[0])for(t=r.length;t--&&("interactive"!==r[t].readyState||!(n=r[t].src)););else if("loading"===document.readyState)n=r[r.length-1].src;else{for(t=r.length;t--;){if(i=r[t].src,!i){e=null;break}if(i=i.split("#")[0].split("?")[0],i=i.slice(0,i.lastIndexOf("/")+1),null==e)e=i;else if(e!==i){e=null;break}}null!==e&&(n=e)}}return n&&(n=n.split("#")[0].split("?")[0],o=n.slice(0,n.lastIndexOf("/")+1)+o),o}(),f=function(){var t=/\-([a-z])/g,e=function(t,e){return e.toUpperCase()};return function(i){return i.replace(t,e)}}(),h=function(t,e){var i,n,o;return window.getComputedStyle?i=window.getComputedStyle(t,null).getPropertyValue(e):(n=f(e),i=t.currentStyle?t.currentStyle[n]:t.style[n]),"cursor"!==e||i&&"auto"!==i||(o=t.tagName.toLowerCase(),"a"!==o)?i:"pointer"},p=function(t){t||(t=window.event);var e;this!==window?e=this:t.target?e=t.target:t.srcElement&&(e=t.srcElement),L.activate(e)},g=function(t,e,i){t&&1===t.nodeType&&(t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i))},v=function(t,e,i){t&&1===t.nodeType&&(t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i))},m=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)||t.classList.add(e),t;if(e&&"string"==typeof e){var i=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var n=" "+t.className+" ",o=t.className,r=0,a=i.length;a>r;r++)n.indexOf(" "+i[r]+" ")<0&&(o+=" "+i[r]);t.className=o.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},b=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)&&t.classList.remove(e),t;if(e&&"string"==typeof e||void 0===e){var i=(e||"").split(/\s+/);if(1===t.nodeType&&t.className)if(e){for(var n=(" "+t.className+" ").replace(/[\n\t]/g," "),o=0,r=i.length;r>o;o++)n=n.replace(" "+i[o]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=""}return t},y=function(){var t,e,i,n=1;return"function"==typeof document.body.getBoundingClientRect&&(t=document.body.getBoundingClientRect(),e=t.right-t.left,i=document.body.offsetWidth,n=Math.round(e/i*100)/100),n},w=function(t,e){var i={left:0,top:0,width:0,height:0,zIndex:z(e)-1};if(t.getBoundingClientRect){var n,o,r,a=t.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(n=window.pageXOffset,o=window.pageYOffset):(r=y(),n=Math.round(document.documentElement.scrollLeft/r),o=Math.round(document.documentElement.scrollTop/r));var s=document.documentElement.clientLeft||0,l=document.documentElement.clientTop||0;i.left=a.left+n-s,i.top=a.top+o-l,i.width="width"in a?a.width:a.right-a.left,i.height="height"in a?a.height:a.bottom-a.top}return i},C=function(t,e){var i=null==e||e&&e.cacheBust===!0&&e.useNoCache===!0;return i?(-1===t.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():""},x=function(t){var e,i,n,o=[],r=[],a=[];if(t.trustedOrigins&&("string"==typeof t.trustedOrigins?r.push(t.trustedOrigins):"object"==typeof t.trustedOrigins&&"length"in t.trustedOrigins&&(r=r.concat(t.trustedOrigins))),t.trustedDomains&&("string"==typeof t.trustedDomains?r.push(t.trustedDomains):"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=r.concat(t.trustedDomains))),r.length)for(e=0,i=r.length;i>e;e++)if(r.hasOwnProperty(e)&&r[e]&&"string"==typeof r[e]){if(n=O(r[e]),!n)continue;if("*"===n){a=[n];break}a.push.apply(a,[n,"//"+n,window.location.protocol+"//"+n])}return a.length&&o.push("trustedOrigins="+encodeURIComponent(a.join(","))),"string"==typeof t.jsModuleId&&t.jsModuleId&&o.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),o.join("&")},k=function(t,e,i){if("function"==typeof e.indexOf)return e.indexOf(t,i);var n,o=e.length;for("undefined"==typeof i?i=0:0>i&&(i=o+i),n=i;o>n;n++)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},A=function(t){if("string"==typeof t)throw new TypeError("ZeroClipboard doesn't accept query strings.");return t.length?t:[t]},$=function(t,e,i,n){n?window.setTimeout(function(){t.apply(e,i)},0):t.apply(e,i)},z=function(t){var e,i;return t&&("number"==typeof t&&t>0?e=t:"string"==typeof t&&(i=parseInt(t,10))&&!isNaN(i)&&i>0&&(e=i)),e||("number"==typeof D.zIndex&&D.zIndex>0?e=D.zIndex:"string"==typeof D.zIndex&&(i=parseInt(D.zIndex,10))&&!isNaN(i)&&i>0&&(e=i)),e||0},S=function(t,e){if(t&&e!==!1&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var i="`"+t+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";console.warn?console.warn(i):console.log(i)}},M=function(){var t,e,i,n,o,r,a=arguments[0]||{};for(t=1,e=arguments.length;e>t;t++)if(null!=(i=arguments[t]))for(n in i)if(i.hasOwnProperty(n)){if(o=a[n],r=i[n],a===r)continue;void 0!==r&&(a[n]=r)}return a},O=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var i=t.indexOf("/");return t=-1===i?t:-1===e||0===i?null:t.slice(0,i),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},T=function(){var t=function(t,e){var i,n,o;if(null!=t&&"*"!==e[0]&&("string"==typeof t&&(t=[t]),"object"==typeof t&&"length"in t))for(i=0,n=t.length;n>i;i++)if(t.hasOwnProperty(i)&&(o=O(t[i]))){if("*"===o){e.length=0,e.push("*");break}-1===k(o,e)&&e.push(o)}},e={always:"always",samedomain:"sameDomain",never:"never"};return function(i,n){var o,r=n.allowScriptAccess;if("string"==typeof r&&(o=r.toLowerCase())&&/^always|samedomain|never$/.test(o))return e[o];var a=O(n.moviePath);null===a&&(a=i);var s=[];t(n.trustedOrigins,s),t(n.trustedDomains,s);var l=s.length;if(l>0){if(1===l&&"*"===s[0])return"always";if(-1!==k(i,s))return 1===l&&i===a?"sameDomain":"always"}return"never"}}(),E=function(t){if(null==t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},I=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&delete t[e];return t},P=function(){var t=!1;if("boolean"==typeof n.disabled)t=n.disabled===!1;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){}!t&&navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0)}return t},L=function(t,e){return this instanceof L?(this.id=""+r++,a[this.id]={instance:this,elements:[],handlers:{}},t&&this.clip(t),"undefined"!=typeof e&&(S("new ZeroClipboard(elements, options)",D.debug),L.config(e)),this.options=L.config(),"boolean"!=typeof n.disabled&&(n.disabled=!P()),void(n.disabled===!1&&n.outdated!==!0&&null===n.bridge&&(n.outdated=!1,n.ready=!1,B()))):new L(t,e)};L.prototype.setText=function(t){return t&&""!==t&&(o["text/plain"]=t,n.ready===!0&&n.bridge&&n.bridge.setText(t)),this},L.prototype.setSize=function(t,e){return n.ready===!0&&n.bridge&&n.bridge.setSize(t,e),this};var N=function(t){n.ready===!0&&n.bridge&&n.bridge.setHandCursor(t)};L.prototype.destroy=function(){this.unclip(),this.off(),delete a[this.id]};var j=function(){var t,e,i,n=[],o=E(a);for(t=0,e=o.length;e>t;t++)i=a[o[t]].instance,i&&i instanceof L&&n.push(i);return n};L.version="1.3.2";var D={swfPath:u,trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};L.config=function(t){if("object"==typeof t&&null!==t&&M(D,t),"string"!=typeof t||!t){var e={};for(var i in D)D.hasOwnProperty(i)&&(e[i]="object"==typeof D[i]&&null!==D[i]?"length"in D[i]?D[i].slice(0):M({},D[i]):D[i]);return e}return D.hasOwnProperty(t)?D[t]:void 0},L.destroy=function(){L.deactivate();for(var t in a)if(a.hasOwnProperty(t)&&a[t]){var e=a[t].instance;e&&"function"==typeof e.destroy&&e.destroy()}var i=F(n.bridge);i&&i.parentNode&&(i.parentNode.removeChild(i),n.ready=null,n.bridge=null)},L.activate=function(t){i&&(b(i,D.hoverClass),b(i,D.activeClass)),i=t,m(t,D.hoverClass),Z();var e=D.title||t.getAttribute("title");if(e){var o=F(n.bridge);o&&o.setAttribute("title",e)}var r=D.forceHandCursor===!0||"pointer"===h(t,"cursor");N(r)},L.deactivate=function(){var t=F(n.bridge);t&&(t.style.left="0px",t.style.top="-9999px",t.removeAttribute("title")),i&&(b(i,D.hoverClass),b(i,D.activeClass),i=null)};var B=function(){var t,e,i=document.getElementById("global-zeroclipboard-html-bridge");if(!i){var o=L.config();o.jsModuleId="string"==typeof c&&c||"string"==typeof d&&d||null;var r=T(window.location.host,D),a=x(o),s=D.moviePath+C(D.moviePath,D),l='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+s+'"/>         <param name="allowScriptAccess" value="'+r+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+a+'"/>         <embed src="'+s+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+r+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+a+'"           scale="exactfit">         </embed>       </object>';i=document.createElement("div"),i.id="global-zeroclipboard-html-bridge",i.setAttribute("class","global-zeroclipboard-container"),i.style.position="absolute",i.style.left="0px",i.style.top="-9999px",i.style.width="15px",i.style.height="15px",i.style.zIndex=""+z(D.zIndex),document.body.appendChild(i),i.innerHTML=l}t=document["global-zeroclipboard-flash-bridge"],t&&(e=t.length)&&(t=t[e-1]),n.bridge=t||i.children[0].lastElementChild},F=function(t){for(var e=/^OBJECT|EMBED$/,i=t&&t.parentNode;i&&e.test(i.nodeName)&&i.parentNode;)i=i.parentNode;return i||null},Z=function(){if(i){var t=w(i,D.zIndex),e=F(n.bridge);e&&(e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.zIndex=t.zIndex+1),n.ready===!0&&n.bridge&&n.bridge.setSize(t.width,t.height)}return this};L.prototype.on=function(t,e){var i,o,r,s={},l=a[this.id]&&a[this.id].handlers;if("string"==typeof t&&t)r=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)t.hasOwnProperty(i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.on(i,t[i]);if(r&&r.length){for(i=0,o=r.length;o>i;i++)t=r[i].replace(/^on/,""),s[t]=!0,l[t]||(l[t]=[]),l[t].push(e);s.noflash&&n.disabled&&V.call(this,"noflash",{}),s.wrongflash&&n.outdated&&V.call(this,"wrongflash",{flashVersion:n.version}),s.load&&n.ready&&V.call(this,"load",{flashVersion:n.version})}return this},L.prototype.off=function(t,e){var i,n,o,r,s,l=a[this.id]&&a[this.id].handlers;if(0===arguments.length)r=E(l);else if("string"==typeof t&&t)r=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(i in t)t.hasOwnProperty(i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.off(i,t[i]);if(r&&r.length)for(i=0,n=r.length;n>i;i++)if(t=r[i].toLowerCase().replace(/^on/,""),s=l[t],s&&s.length)if(e)for(o=k(e,s);-1!==o;)s.splice(o,1),o=k(e,s,o);else l[t].length=0;return this},L.prototype.handlers=function(t){var e,i=null,n=a[this.id]&&a[this.id].handlers;if(n){if("string"==typeof t&&t)return n[t]?n[t].slice(0):null;i={};for(e in n)n.hasOwnProperty(e)&&n[e]&&(i[e]=n[e].slice(0))}return i};var _=function(t,e,i,n){var o=a[this.id]&&a[this.id].handlers[t];if(o&&o.length){var r,s,l,c=e||this;for(r=0,s=o.length;s>r;r++)l=o[r],e=c,"string"==typeof l&&"function"==typeof window[l]&&(l=window[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(e=l,l=l.handleEvent),"function"==typeof l&&$(l,e,i,n)}return this};L.prototype.clip=function(t){t=A(t);for(var e=0;e<t.length;e++)if(t.hasOwnProperty(e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===k(this.id,l[t[e].zcClippingId])&&l[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+s++,l[t[e].zcClippingId]=[this.id],D.autoActivate===!0&&g(t[e],"mouseover",p));var i=a[this.id].elements;-1===k(t[e],i)&&i.push(t[e])}return this},L.prototype.unclip=function(t){var e=a[this.id];if(e){var i,n=e.elements;t="undefined"==typeof t?n.slice(0):A(t);for(var o=t.length;o--;)if(t.hasOwnProperty(o)&&t[o]&&1===t[o].nodeType){for(i=0;-1!==(i=k(t[o],n,i));)n.splice(i,1);var r=l[t[o].zcClippingId];if(r){for(i=0;-1!==(i=k(this.id,r,i));)r.splice(i,1);0===r.length&&(D.autoActivate===!0&&v(t[o],"mouseover",p),delete t[o].zcClippingId)}}}return this},L.prototype.elements=function(){var t=a[this.id];return t&&t.elements?t.elements.slice(0):[]};var H=function(t){var e,i,n,o,r,s=[];if(t&&1===t.nodeType&&(e=t.zcClippingId)&&l.hasOwnProperty(e)&&(i=l[e],i&&i.length))for(n=0,o=i.length;o>n;n++)r=a[i[n]].instance,r&&r instanceof L&&s.push(r);return s};D.hoverClass="zeroclipboard-is-hover",D.activeClass="zeroclipboard-is-active",D.trustedOrigins=null,D.allowScriptAccess=null,D.useNoCache=!0,D.moviePath="ZeroClipboard.swf",L.detectFlashSupport=function(){return S("ZeroClipboard.detectFlashSupport",D.debug),P()
},L.dispatch=function(t,e){if("string"==typeof t&&t){var n=t.toLowerCase().replace(/^on/,"");if(n)for(var o=i?H(i):j(),r=0,a=o.length;a>r;r++)V.call(o[r],n,e)}},L.prototype.setHandCursor=function(t){return S("ZeroClipboard.prototype.setHandCursor",D.debug),t="boolean"==typeof t?t:!!t,N(t),D.forceHandCursor=t,this},L.prototype.reposition=function(){return S("ZeroClipboard.prototype.reposition",D.debug),Z()},L.prototype.receiveEvent=function(t,e){if(S("ZeroClipboard.prototype.receiveEvent",D.debug),"string"==typeof t&&t){var i=t.toLowerCase().replace(/^on/,"");i&&V.call(this,i,e)}},L.prototype.setCurrent=function(t){return S("ZeroClipboard.prototype.setCurrent",D.debug),L.activate(t),this},L.prototype.resetBridge=function(){return S("ZeroClipboard.prototype.resetBridge",D.debug),L.deactivate(),this},L.prototype.setTitle=function(t){if(S("ZeroClipboard.prototype.setTitle",D.debug),t=t||D.title||i&&i.getAttribute("title")){var e=F(n.bridge);e&&e.setAttribute("title",t)}return this},L.setDefaults=function(t){S("ZeroClipboard.setDefaults",D.debug),L.config(t)},L.prototype.addEventListener=function(t,e){return S("ZeroClipboard.prototype.addEventListener",D.debug),this.on(t,e)},L.prototype.removeEventListener=function(t,e){return S("ZeroClipboard.prototype.removeEventListener",D.debug),this.off(t,e)},L.prototype.ready=function(){return S("ZeroClipboard.prototype.ready",D.debug),n.ready===!0};var V=function(r,a){r=r.toLowerCase().replace(/^on/,"");var s=a&&a.flashVersion&&t(a.flashVersion)||null,l=i,c=!0;switch(r){case"load":if(s){if(!e(s))return void V.call(this,"onWrongFlash",{flashVersion:s});n.outdated=!1,n.ready=!0,n.version=s}break;case"wrongflash":s&&!e(s)&&(n.outdated=!0,n.ready=!1,n.version=s);break;case"mouseover":m(l,D.hoverClass);break;case"mouseout":D.autoActivate===!0&&L.deactivate();break;case"mousedown":m(l,D.activeClass);break;case"mouseup":b(l,D.activeClass);break;case"datarequested":var d=l.getAttribute("data-clipboard-target"),u=d?document.getElementById(d):null;if(u){var f=u.value||u.textContent||u.innerText;f&&this.setText(f)}else{var h=l.getAttribute("data-clipboard-text");h&&this.setText(h)}c=!1;break;case"complete":I(o)}var p=l,g=[this,a];return _.call(this,r,p,g,c)};"function"==typeof define&&define.amd?define(["require","exports","module"],function(t,e,i){return c=i&&i.id||null,L}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(d=module.id||null,module.exports=L):window.ZeroClipboard=L}(),$(document).ready(function(){var t=setBGColorAndPattern(),e=t[0],i=(t[1],t[2],$("#pattern-list").children());instantiateClickablePatterns(),instantiateLazyLoading(),instantiateSWFCopyButton(),$("#search").on("input",function(){filterPatterns(this,i)}),$(".hexbox").change(function(){var t=$(this).val();$(".colorpicker").minicolors("value",t)}),$("#cssfield").hover(function(){$(this).select()},function(){window.getSelection().removeAllRanges()}),$("body").is(".article")&&(instantiateHiddenCanvas(e),$(".hexbox").on("input",function(){var t=$(this).val();console.log(t),instantiateHiddenCanvas(t)}),$(".minicolors-panel").on("mouseleave",function(){var t=$(".hexbox").val();instantiateHiddenCanvas(t)}),$("#wallpaper_width, #wallpaper_height").on("input",function(){instantiateHiddenCanvas(e)}))});